<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Dockeræ•™ç¨‹ | ç‹ç«¹å…´ | Blog</title><meta name="description" content="æ¦‚è¿°  Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäºGo è¯­è¨€ å¹¶éµä»Apache2.0åè®®å¼€æºã€‚ Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚ å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚   åº”ç”¨åœºæ™¯  Web åº”ç”¨çš„è‡ªåŠ¨åŒ–æ‰“åŒ…å’Œå‘"><meta name="keywords" content="æŒç»­é›†æˆ"><meta name="author" content="bambooxking"><meta name="copyright" content="bambooxking"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://bambooxking.github.io/2019/04/20/%E5%B0%8F%E9%BB%91%E7%A7%91%E6%8A%80/Docker%E6%95%99%E7%A8%8B/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Dockeræ•™ç¨‹"><meta property="og:url" content="https://bambooxking.github.io/2019/04/20/%E5%B0%8F%E9%BB%91%E7%A7%91%E6%8A%80/Docker%E6%95%99%E7%A8%8B/"><meta property="og:site_name" content="ç‹ç«¹å…´ | Blog"><meta property="og:description" content="æ¦‚è¿°  Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäºGo è¯­è¨€ å¹¶éµä»Apache2.0åè®®å¼€æºã€‚ Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚ å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚   åº”ç”¨åœºæ™¯  Web åº”ç”¨çš„è‡ªåŠ¨åŒ–æ‰“åŒ…å’Œå‘"><meta property="og:image" content="https://gitee.com/bambooxking/pic-bed/raw/master/img/20200726212621Docker.jpg"><meta property="article:published_time" content="2019-04-20T02:10:14.000Z"><meta property="article:modified_time" content="2020-07-26T13:32:55.230Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="prev" title="å…³äºBETA,RC,ALPHA,GAç­‰ç‰ˆæœ¬å·çš„æ„ä¹‰" href="https://bambooxking.github.io/2019/04/25/%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/%E5%85%B3%E4%BA%8EBETA-RC-ALPHA-GA%E7%AD%89%E7%89%88%E6%9C%AC%E5%8F%B7%E7%9A%84%E6%84%8F%E4%B9%89/"><link rel="next" title="gitlab-ci æ­å»ºæŒç»­é›†æˆç¯å¢ƒ" href="https://bambooxking.github.io/2019/04/18/%E5%B0%8F%E9%BB%91%E7%A7%91%E6%8A%80/gitlab-ci%20%E6%90%AD%E5%BB%BA%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E7%8E%AF%E5%A2%83/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"Z7A3XW4R2I","apiKey":"12db1ad54372045549ef465881c17e743","indexName":"my-hexo-blog","hits":{"per_page":6},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: {"text":"çˆ±å›½,å‹å–„,æ•¬ä¸š,å’Œè°,å¯Œå¼º","fontSize":"15px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"æŒ‰","message_next":"é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾"},"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><style type="text/css">.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">14</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> é˜…è¯»</span></a></li><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker-å®‰è£…"><span class="toc-number">1.</span> <span class="toc-text">Docker å®‰è£…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker-ä½¿ç”¨"><span class="toc-number">2.</span> <span class="toc-text">Docker ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ç®€å•ä½¿ç”¨"><span class="toc-number">2.1.</span> <span class="toc-text">ç®€å•ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hello-World"><span class="toc-number">2.1.1.</span> <span class="toc-text">Hello World</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#è¿è¡Œäº¤äº’å¼å®¹å™¨"><span class="toc-number">2.1.2.</span> <span class="toc-text">è¿è¡Œäº¤äº’å¼å®¹å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åå°æ¨¡å¼è¿è¡Œ"><span class="toc-number">2.1.3.</span> <span class="toc-text">åå°æ¨¡å¼è¿è¡Œ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¸¸ç”¨ç¯å¢ƒéƒ¨ç½²"><span class="toc-number">2.2.</span> <span class="toc-text">å¸¸ç”¨ç¯å¢ƒéƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#å®¹å™¨ç¯å¢ƒéƒ¨ç½²"><span class="toc-number">2.2.1.</span> <span class="toc-text">å®¹å™¨ç¯å¢ƒéƒ¨ç½²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®¹å™¨ä¸å®¿ä¸»æœºä¹‹é—´çš„æ–‡ä»¶å¤åˆ¶"><span class="toc-number">2.2.2.</span> <span class="toc-text">å®¹å™¨ä¸å®¿ä¸»æœºä¹‹é—´çš„æ–‡ä»¶å¤åˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®¹å™¨ä¸å®¿ä¸»æœºå…±äº«æ–‡ä»¶"><span class="toc-number">2.2.3.</span> <span class="toc-text">å®¹å™¨ä¸å®¿ä¸»æœºå…±äº«æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#é•œåƒä½¿ç”¨"><span class="toc-number">2.3.</span> <span class="toc-text">é•œåƒä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒåˆ—è¡¨"><span class="toc-number">2.3.1.</span> <span class="toc-text">åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒåˆ—è¡¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åˆ—å‡ºæœ¬åœ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨"><span class="toc-number">2.3.2.</span> <span class="toc-text">åˆ—å‡ºæœ¬åœ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®¹å™¨å†…éƒ¨è·å–å½“å‰ID"><span class="toc-number">2.3.3.</span> <span class="toc-text">å®¹å™¨å†…éƒ¨è·å–å½“å‰ID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#è·å–æ–°çš„é•œåƒ"><span class="toc-number">2.3.4.</span> <span class="toc-text">è·å–æ–°çš„é•œåƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æŸ¥æ‰¾è¿œç«¯é•œåƒ"><span class="toc-number">2.3.5.</span> <span class="toc-text">æŸ¥æ‰¾è¿œç«¯é•œåƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ›´æ–°é•œåƒ"><span class="toc-number">2.3.6.</span> <span class="toc-text">æ›´æ–°é•œåƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#é‡å‘½åé•œåƒ"><span class="toc-number">2.3.7.</span> <span class="toc-text">é‡å‘½åé•œåƒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#é‡å‘½åå®¹å™¨"><span class="toc-number">2.3.8.</span> <span class="toc-text">é‡å‘½åå®¹å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#åˆ é™¤é•œåƒ"><span class="toc-number">2.3.9.</span> <span class="toc-text">åˆ é™¤é•œåƒ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-å‘½ä»¤æ‰‹å†Œ-è¯¦"><span class="toc-number">2.4.</span> <span class="toc-text">docker å‘½ä»¤æ‰‹å†Œ(è¯¦)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dockerfile-å¿«é€Ÿæ„å»ºé•œåƒ"><span class="toc-number">3.</span> <span class="toc-text">Dockerfile å¿«é€Ÿæ„å»ºé•œåƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ„å»ºå‘½ä»¤"><span class="toc-number">3.1.</span> <span class="toc-text">æ„å»ºå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dockerfile-å‘½ä»¤å¤§å…¨"><span class="toc-number">3.2.</span> <span class="toc-text">Dockerfile å‘½ä»¤å¤§å…¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¸¸è§é—®é¢˜"><span class="toc-number">3.3.</span> <span class="toc-text">å¸¸è§é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-ä¿®æ”¹sources-listæº"><span class="toc-number">3.3.1.</span> <span class="toc-text">1. ä¿®æ”¹sources.listæº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-é•œåƒåŠ é€Ÿ"><span class="toc-number">3.3.2.</span> <span class="toc-text">2. é•œåƒåŠ é€Ÿ</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://gitee.com/bambooxking/pic-bed/raw/master/img/20200726212621Docker.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">ç‹ç«¹å…´ | Blog</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> å¨±ä¹</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> é˜…è¯»</span></a></li><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Dockeræ•™ç¨‹</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="å‘è¡¨äº 2019-04-20 10:10:14"><i class="far fa-calendar-alt fa-fw"></i> å‘è¡¨äº 2019-04-20</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="æ›´æ–°äº 2020-07-26 21:32:55"><i class="fas fa-history fa-fw"></i> æ›´æ–°äº 2020-07-26</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/">å¼€å‘å·¥å…·</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>å­—æ•°æ€»è®¡:</span><span class="word-count">1.9k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>é˜…è¯»æ—¶é•¿: 7 åˆ†é’Ÿ</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><ul>
<li><p>æ¦‚è¿°</p>
<ul>
<li><code>Docker</code> æ˜¯ä¸€ä¸ª<strong>å¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“</strong>ï¼ŒåŸºäº<code>Go è¯­è¨€</code> å¹¶éµä»Apache2.0åè®®å¼€æºã€‚</li>
<li>Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚</li>
<li><strong>å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£</strong>ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯<strong>å®¹å™¨æ€§èƒ½å¼€é”€æä½</strong>ã€‚</li>
</ul>
</li>
<li><p>åº”ç”¨åœºæ™¯</p>
<ul>
<li>Web åº”ç”¨çš„<strong>è‡ªåŠ¨åŒ–æ‰“åŒ…å’Œå‘å¸ƒ</strong>ã€‚</li>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆã€å‘å¸ƒ</strong>ã€‚</li>
<li>åœ¨<strong>æœåŠ¡å‹ç¯å¢ƒä¸­éƒ¨ç½²å’Œè°ƒæ•´æ•°æ®åº“æˆ–å…¶ä»–çš„åå°åº”ç”¨</strong>ã€‚</li>
</ul>
</li>
<li><p>æ¶æ„æ¨¡å¼</p>
<ul>
<li><p>Docker ä½¿ç”¨<strong>å®¢æˆ·ç«¯-æœåŠ¡å™¨ (C/S) æ¶æ„æ¨¡å¼</strong>ï¼Œä½¿ç”¨è¿œç¨‹APIæ¥ç®¡ç†å’Œåˆ›å»ºDockerå®¹å™¨ã€‚</p>
</li>
<li><p>Docker <strong>å®¹å™¨é€šè¿‡ Docker é•œåƒæ¥åˆ›å»º</strong>ã€‚</p>
</li>
<li><p>å®¹å™¨ä¸é•œåƒçš„å…³ç³»ç±»ä¼¼äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¯¹è±¡ä¸ç±»:</p>
<table>
<thead>
<tr>
<th align="center">Docker</th>
<th align="center">é¢å‘å¯¹è±¡</th>
</tr>
</thead>
<tbody><tr>
<td align="center">å®¹å™¨</td>
<td align="center">å¯¹è±¡</td>
</tr>
<tr>
<td align="center">é•œåƒ</td>
<td align="center">ç±»</td>
</tr>
</tbody></table>
<p><img src= "/img/loading.gif" data-src="http://ww1.sinaimg.cn/large/929ea2a1gy1g28w0yg4l4j20ed0awac7.jpg" alt=""></p>
<table>
<thead>
<tr>
<th align="left">æ¦‚å¿µåè¯</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Docker é•œåƒ(<strong>Images</strong>)</td>
<td>ç”¨äºåˆ›å»º Docker å®¹å™¨çš„æ¨¡æ¿ã€‚</td>
</tr>
<tr>
<td align="left">Docker å®¹å™¨(<strong>Container</strong>)</td>
<td>ç‹¬ç«‹è¿è¡Œçš„ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ã€‚</td>
</tr>
<tr>
<td align="left">Docker å®¢æˆ·ç«¯(<strong>Client</strong>)</td>
<td>é€šè¿‡å‘½ä»¤è¡Œæˆ–å…¶ä»–å·¥å…·ä½¿ç”¨ <strong>Docker API</strong> ä¸ <strong>Docker çš„å®ˆæŠ¤è¿›ç¨‹</strong>é€šä¿¡ã€‚</td>
</tr>
<tr>
<td align="left">Docker ä¸»æœº(<strong>Host</strong>)</td>
<td>ä¸€ä¸ªç‰©ç†æˆ–è€…è™šæ‹Ÿçš„æœºå™¨<strong>ç”¨äºæ‰§è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹å’Œå®¹å™¨</strong>ã€‚</td>
</tr>
<tr>
<td align="left">Docker ä»“åº“(<strong>Registry</strong>)</td>
<td>ç”¨æ¥ä¿å­˜é•œåƒã€‚<a href="https://hub.docker.com" target="_blank" rel="noopener">Docker Hub</a> æä¾›äº†åºå¤§çš„é•œåƒé›†åˆä¾›ä½¿ç”¨ã€‚</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>ä¼˜ç‚¹</p>
<ul>
<li><strong>ç®€åŒ–ç¨‹åº</strong><br>Docker è®©å¼€å‘è€…<strong>å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­</strong>ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¾¿å¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚</li>
<li><strong>é¿å…é€‰æ‹©ææƒ§ç—‡</strong><br>Docker é•œåƒä¸­åŒ…å«äº†è¿è¡Œç¯å¢ƒå’Œé…ç½®ï¼Œæ‰€ä»¥ Docker å¯ä»¥ç®€åŒ–éƒ¨ç½²å¤šç§åº”ç”¨å®ä¾‹å·¥ä½œã€‚æ¯”å¦‚ Web åº”ç”¨ã€åå°åº”ç”¨ã€æ•°æ®åº“åº”ç”¨ã€å¤§æ•°æ®åº”ç”¨æ¯”å¦‚ Hadoop é›†ç¾¤ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ç­‰<strong>éƒ½å¯ä»¥æ‰“åŒ…æˆä¸€ä¸ªé•œåƒéƒ¨ç½²</strong>ã€‚ </li>
<li><strong>èŠ‚çœå¼€æ”¯</strong><br>äº‘è®¡ç®—æ—¶ä»£åˆ°æ¥ï¼Œä½¿å¼€å‘è€…ä¸å¿…ä¸ºäº†è¿½æ±‚æ•ˆæœè€Œé…ç½®é«˜é¢çš„ç¡¬ä»¶ï¼ŒDocker æ”¹å˜äº†é«˜æ€§èƒ½å¿…ç„¶é«˜ä»·æ ¼çš„æ€ç»´å®šåŠ¿ã€‚Docker ä¸äº‘çš„ç»“åˆï¼Œè®©äº‘ç©ºé—´å¾—åˆ°æ›´å……åˆ†çš„åˆ©ç”¨ã€‚ä¸ä»…è§£å†³äº†ç¡¬ä»¶ç®¡ç†çš„é—®é¢˜ï¼Œä¹Ÿæ”¹å˜äº†è™šæ‹ŸåŒ–çš„æ–¹å¼ã€‚</li>
</ul>
</li>
<li><p>ç›¸å…³é“¾æ¥</p>
<ul>
<li><a href="https://www.docker.com" target="_blank" rel="noopener">Docker å®˜ç½‘</a></li>
<li><a href="https://github.com/docker/docker" target="_blank" rel="noopener">Github Docker æºç </a></li>
<li><a href="http://www.runoob.com/docker/docker-tutorial.htm" target="_blank" rel="noopener">èœé¸Ÿæ•™ç¨‹-Docker</a></li>
</ul>
</li>
</ul>
<h2 id="Docker-å®‰è£…"><a href="#Docker-å®‰è£…" class="headerlink" title="Docker å®‰è£…"></a>Docker å®‰è£…</h2><ul>
<li><a href="https://www.docker-cn.com/community-edition#/download" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></li>
</ul>
<h2 id="Docker-ä½¿ç”¨"><a href="#Docker-ä½¿ç”¨" class="headerlink" title="Docker ä½¿ç”¨"></a>Docker ä½¿ç”¨</h2><h3 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h3><h4 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h4><blockquote>
<p> ä½¿ç”¨ <strong>docker run</strong> å‘½ä»¤æ¥åœ¨å®¹å™¨å†…è¿è¡Œä¸€ä¸ªåº”ç”¨ç¨‹åºï¼šè¾“å‡ºHello worldã€‚</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Docker ä»¥ ubuntu16.04 é•œåƒåˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ï¼Œç„¶ååœ¨å®¹å™¨é‡Œæ‰§è¡Œå¹¶è¾“å‡ºç»“æœ</span></span><br><span class="line">docker run ubuntu:16.04 echo "Hello World"</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€æ¬¡æ‹‰å–, ä¼šæ£€æµ‹æœ¬åœ°æ²¡æœ‰ubuntu16.04çš„é•œåƒ, ç›´æ¥ä»è¿œç«¯æ‹‰å–ã€‚</p>
<h4 id="è¿è¡Œäº¤äº’å¼å®¹å™¨"><a href="#è¿è¡Œäº¤äº’å¼å®¹å™¨" class="headerlink" title="è¿è¡Œäº¤äº’å¼å®¹å™¨"></a>è¿è¡Œäº¤äº’å¼å®¹å™¨</h4><blockquote>
<ul>
<li>è¿›å…¥å®¹å™¨è¿›è¡Œäº¤äº’</li>
<li>å¯ä»¥é€šè¿‡è¿è¡Œexitå‘½ä»¤æˆ–è€…ä½¿ç”¨CTRL+Dæ¥é€€å‡ºå®¹å™¨</li>
</ul>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -i:å…è®¸ä½ å¯¹å®¹å™¨å†…çš„æ ‡å‡†è¾“å…¥ (STDIN) è¿›è¡Œäº¤äº’</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -t:åœ¨æ–°å®¹å™¨å†…æŒ‡å®šä¸€ä¸ªä¼ªç»ˆç«¯æˆ–ç»ˆç«¯</span></span><br><span class="line">docker run -i -t ubuntu:16.04</span><br><span class="line">docker run -it ubuntu:16.04</span><br></pre></td></tr></table></figure>

<h4 id="åå°æ¨¡å¼è¿è¡Œ"><a href="#åå°æ¨¡å¼è¿è¡Œ" class="headerlink" title="åå°æ¨¡å¼è¿è¡Œ"></a>åå°æ¨¡å¼è¿è¡Œ</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ›å»ºä¸€ä¸ªä»¥è¿›ç¨‹æ–¹å¼è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker run -d ubuntu:16.04 /bin/sh -c "while true; do echo hello world; sleep 1; done"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¡®è®¤å®¹å™¨æ˜¯å¦æœ‰åœ¨è¿è¡Œ, è·å–æ­£åœ¨è¿è¡Œçš„å®¹å™¨ID</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹å®¹å™¨å†…çš„æ ‡å‡†è¾“å‡º</span></span><br><span class="line">docker logs [ContainerID]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœæ­¢å®¹å™¨è¿è¡Œ</span></span><br><span class="line">docker stop [ContainerID]</span><br></pre></td></tr></table></figure>

<h3 id="å¸¸ç”¨ç¯å¢ƒéƒ¨ç½²"><a href="#å¸¸ç”¨ç¯å¢ƒéƒ¨ç½²" class="headerlink" title="å¸¸ç”¨ç¯å¢ƒéƒ¨ç½²"></a>å¸¸ç”¨ç¯å¢ƒéƒ¨ç½²</h3><h4 id="å®¹å™¨ç¯å¢ƒéƒ¨ç½²"><a href="#å®¹å™¨ç¯å¢ƒéƒ¨ç½²" class="headerlink" title="å®¹å™¨ç¯å¢ƒéƒ¨ç½²"></a>å®¹å™¨ç¯å¢ƒéƒ¨ç½²</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> é…ç½®å›½å†…é•œåƒ</span></span><br><span class="line">mv /etc/apt/sources.list /etc/apt/sources.list.bak</span><br><span class="line">echo "deb http://mirrors.163.com/debian/ jessie main non-free contrib" &gt;&gt; /etc/apt/sources.list</span><br><span class="line">echo "deb http://mirrors.163.com/debian/ jessie-proposed-updates main non-free contrib" &gt;&gt; /etc/apt/sources.list</span><br><span class="line">echo "deb-src http://mirrors.163.com/debian/ jessie main non-free contrib"  &gt;&gt; /etc/apt/sources.list</span><br><span class="line">echo "deb-src http://mirrors.163.com/debian/ jessie-proposed-updates main non-free contrib" &gt;&gt; /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ›´æ–°å®‰è£…æº</span></span><br><span class="line">apt-get update</span><br></pre></td></tr></table></figure>

<h4 id="å®¹å™¨ä¸å®¿ä¸»æœºä¹‹é—´çš„æ–‡ä»¶å¤åˆ¶"><a href="#å®¹å™¨ä¸å®¿ä¸»æœºä¹‹é—´çš„æ–‡ä»¶å¤åˆ¶" class="headerlink" title="å®¹å™¨ä¸å®¿ä¸»æœºä¹‹é—´çš„æ–‡ä»¶å¤åˆ¶"></a>å®¹å™¨ä¸å®¿ä¸»æœºä¹‹é—´çš„æ–‡ä»¶å¤åˆ¶</h4><ul>
<li><p>å®¹å™¨å¾€å®¿ä¸»æœºæ‹·è´</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp [ContainerID]:/database_dump_bak/db_bak.dmp /home/test</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®¿ä¸»æœºå¾€å®¹å™¨æ‹·è´</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp wenjian_001.xml  [ContainerID]:/mnt/5101388419</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="å®¹å™¨ä¸å®¿ä¸»æœºå…±äº«æ–‡ä»¶"><a href="#å®¹å™¨ä¸å®¿ä¸»æœºå…±äº«æ–‡ä»¶" class="headerlink" title="å®¹å™¨ä¸å®¿ä¸»æœºå…±äº«æ–‡ä»¶"></a>å®¹å™¨ä¸å®¿ä¸»æœºå…±äº«æ–‡ä»¶</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¿›å…¥Dockerå®¹å™¨åï¼Œè¿›å…¥ /share æ–‡ä»¶å¤¹ä¸‹å³å¯æŸ¥çœ‹åˆ°å…±äº«å†…å®¹</span></span><br><span class="line">docker run -it -v /home/wzx/ä¸‹è½½:/share wzx/ubuntu:16.04 /bin/bash</span><br></pre></td></tr></table></figure>

<h3 id="é•œåƒä½¿ç”¨"><a href="#é•œåƒä½¿ç”¨" class="headerlink" title="é•œåƒä½¿ç”¨"></a>é•œåƒä½¿ç”¨</h3><h4 id="åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒåˆ—è¡¨"><a href="#åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒåˆ—è¡¨" class="headerlink" title="åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒåˆ—è¡¨"></a>åˆ—å‡ºæœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒåˆ—è¡¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> e.g:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ubuntu              16.04               9361ce633ff1        5 weeks ago         118MB</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><strong>REPOSITORYï¼š</strong>è¡¨ç¤ºé•œåƒçš„ä»“åº“æº</li>
<li><strong>TAGï¼š</strong>é•œåƒçš„æ ‡ç­¾</li>
<li><strong>IMAGE IDï¼š</strong>é•œåƒID</li>
<li><strong>CREATEDï¼š</strong>é•œåƒåˆ›å»ºæ—¶é—´</li>
<li><strong>SIZEï¼š</strong>é•œåƒå¤§å°</li>
</ul>
</blockquote>
<h4 id="åˆ—å‡ºæœ¬åœ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a href="#åˆ—å‡ºæœ¬åœ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨" class="headerlink" title="åˆ—å‡ºæœ¬åœ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a>åˆ—å‡ºæœ¬åœ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>

<h4 id="å®¹å™¨å†…éƒ¨è·å–å½“å‰ID"><a href="#å®¹å™¨å†…éƒ¨è·å–å½“å‰ID" class="headerlink" title="å®¹å™¨å†…éƒ¨è·å–å½“å‰ID"></a>å®¹å™¨å†…éƒ¨è·å–å½“å‰ID</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å…¶å®å°±æ˜¯ä¸»æœºå, è®°ä¸‹å¯ç”¨äºä¿å­˜é•œåƒä½¿ç”¨</span></span><br><span class="line">hostname</span><br></pre></td></tr></table></figure>

<h4 id="è·å–æ–°çš„é•œåƒ"><a href="#è·å–æ–°çš„é•œåƒ" class="headerlink" title="è·å–æ–°çš„é•œåƒ"></a>è·å–æ–°çš„é•œåƒ</h4><blockquote>
<p>å½“æˆ‘ä»¬åœ¨æœ¬åœ°ä¸»æœºä¸Šä½¿ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„é•œåƒæ—¶ Docker å°±ä¼š<strong>è‡ªåŠ¨ä¸‹è½½</strong>è¿™ä¸ªé•œåƒã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³é¢„å…ˆä¸‹è½½è¿™ä¸ªé•œåƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>docker pull</code> å‘½ä»¤æ¥ä¸‹è½½å®ƒ</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœä¸æŒ‡å®šä¸€ä¸ªé•œåƒçš„ç‰ˆæœ¬æ ‡ç­¾, å°†é»˜è®¤ä½¿ç”¨ ubuntu:latest é•œåƒ</span></span><br><span class="line">docker pull ubuntu</span><br></pre></td></tr></table></figure>

<h4 id="æŸ¥æ‰¾è¿œç«¯é•œåƒ"><a href="#æŸ¥æ‰¾è¿œç«¯é•œåƒ" class="headerlink" title="æŸ¥æ‰¾è¿œç«¯é•œåƒ"></a>æŸ¥æ‰¾è¿œç«¯é•œåƒ</h4><blockquote>
<p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªhttpdçš„é•œåƒæ¥ä½œä¸ºæˆ‘ä»¬çš„webæœåŠ¡ã€‚</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search httpd</span><br></pre></td></tr></table></figure>

<h4 id="æ›´æ–°é•œåƒ"><a href="#æ›´æ–°é•œåƒ" class="headerlink" title="æ›´æ–°é•œåƒ"></a>æ›´æ–°é•œåƒ</h4><blockquote>
<p>æ¯”å¦‚æœ¬åœ°çš„ ubuntu:16.04 é…ç½®äº†ä¸€å®šç¯å¢ƒä¹‹å, æƒ³é‡æ–°å¼„ä¸€ä¸ªåŒæ ·é•œåƒtagæ¥é…ç½®å¦ä¸€ä¸ªç¯å¢ƒ</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨</span></span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ›´æ–°é•œåƒ</span></span><br><span class="line">docker commit -m="test for update image" -a="wzx" 9361ce633ff1 wzx/ubuntu:v1</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><strong>-m</strong> : æäº¤çš„æè¿°ä¿¡æ¯</li>
<li><strong>-a</strong>  : æŒ‡å®šé•œåƒä½œè€…</li>
<li><strong>9361ce633ff1</strong> : å®¹å™¨ID</li>
<li><strong>wzx/ubuntu:v1</strong> : æŒ‡å®šè¦åˆ›å»ºçš„ç›®æ ‡é•œåƒå</li>
</ul>
</blockquote>
<h4 id="é‡å‘½åé•œåƒ"><a href="#é‡å‘½åé•œåƒ" class="headerlink" title="é‡å‘½åé•œåƒ"></a>é‡å‘½åé•œåƒ</h4><blockquote>
<p>docker tag IMAGEID(é•œåƒid) REPOSITORY:TAG(ä»“åº“:æ ‡ç­¾)</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag 9bf883b9c50c wzx/ubuntu:16.04</span><br></pre></td></tr></table></figure>

<h4 id="é‡å‘½åå®¹å™¨"><a href="#é‡å‘½åå®¹å™¨" class="headerlink" title="é‡å‘½åå®¹å™¨"></a>é‡å‘½åå®¹å™¨</h4><blockquote>
<p>dokcer rename å®¹å™¨ID REPOSITORY:TAG(ä»“åº“:æ ‡ç­¾)</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rename 9c7da7245195 wzx/ubuntu:16.04</span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åœæ­¢æ‰€æœ‰çš„å®¹å™¨</span></span><br><span class="line">docker stop $(docker ps -a -q)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># å¦‚æœè¦åˆ é™¤æ‰€æœ‰å®¹å™¨çš„è¯, éœ€åŠ ä¸Š:</span></span></span><br><span class="line">docker rm $(docker ps -a -q)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹æœ¬åœ°é•œåƒåˆ—è¡¨</span></span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤å•ä¸ªé•œåƒ</span></span><br><span class="line">docker rmi [ContainerID]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤æ‰€æœ‰é•œåƒ</span></span><br><span class="line">docker rmi $(docker images -q)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ³¨1: åˆ é™¤é•œåƒæ—¶æŠ¥å¿…é¡»åœæ­¢å®¹å™¨çš„é”™è¯¯</p>
<p>å…·ä½“é”™è¯¯:  <code>Error response from daemon:###unable to delete ### (must be forced) - image is being used by stopped</code> </p>
<p>é”™è¯¯è§£æ: è¿™æ˜¯ç”±äºè¦åˆ é™¤çš„ç›®æ ‡é•œåƒä¸­æœ‰å®¹å™¨å­˜åœ¨ï¼Œæ•…æ— æ³•åˆ é™¤é•œåƒ</p>
<p>è§£å†³åŠæ³•: å…ˆåˆ é™¤é•œåƒä¸­çš„å®¹å™¨ï¼Œå†åˆ é™¤è¯¥é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rm [ContainerID]</span><br><span class="line">docker rmi [ImageID]</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨2: åˆ é™¤é•œåƒæ—¶æŠ¥é•œåƒè¢«å¼•ç”¨çš„é”™è¯¯</p>
<p>å…·ä½“é”™è¯¯: <code>Error response from daemon: conflict: unable to delete ### (must be forced) - image is referenced in multiple repositories</code></p>
<p>é”™è¯¯è§£æ: é•œåƒè¢«å¼•ç”¨äº†, åˆ é™¤æ—¶å¯æŒ‡å®š<code>repository</code>å’Œ<code>tag</code>çš„æ–¹å¼æ¥åˆ é™¤</p>
<p>è§£å†³åŠæ³•: </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi tmp/ubuntu:16.04</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="docker-å‘½ä»¤æ‰‹å†Œ-è¯¦"><a href="#docker-å‘½ä»¤æ‰‹å†Œ-è¯¦" class="headerlink" title="docker å‘½ä»¤æ‰‹å†Œ(è¯¦)"></a>docker å‘½ä»¤æ‰‹å†Œ(è¯¦)</h3><ul>
<li><a href="https://www.runoob.com/docker/docker-command-manual.html" target="_blank" rel="noopener">Docker å‘½ä»¤å¤§å…¨</a></li>
<li><a href="https://docs.docker.com/v17.09/engine/reference/builder/" target="_blank" rel="noopener">Dockerfile å‚è€ƒæ‰‹å†Œ</a></li>
</ul>
<h2 id="Dockerfile-å¿«é€Ÿæ„å»ºé•œåƒ"><a href="#Dockerfile-å¿«é€Ÿæ„å»ºé•œåƒ" class="headerlink" title="Dockerfile å¿«é€Ÿæ„å»ºé•œåƒ"></a>Dockerfile å¿«é€Ÿæ„å»ºé•œåƒ</h2><h3 id="æ„å»ºå‘½ä»¤"><a href="#æ„å»ºå‘½ä»¤" class="headerlink" title="æ„å»ºå‘½ä»¤"></a>æ„å»ºå‘½ä»¤</h3><blockquote>
<p>docker build -t REPOSITORY:TAG(ä»“åº“:æ ‡ç­¾) path(Dockerfileæ–‡ä»¶æ‰€åœ¨ç›®å½•è·¯å¾„)</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ„å»º</span></span><br><span class="line">docker build -t wzx/ubuntu:16.04 .</span><br></pre></td></tr></table></figure>

<h3 id="Dockerfile-å‘½ä»¤å¤§å…¨"><a href="#Dockerfile-å‘½ä»¤å¤§å…¨" class="headerlink" title="Dockerfile å‘½ä»¤å¤§å…¨"></a>Dockerfile å‘½ä»¤å¤§å…¨</h3><p><a href="https://www.cnblogs.com/dazhoushuoceshi/p/7066041.html" target="_blank" rel="noopener">Dockerfileå‘½ä»¤è¯¦è§£(è¶…å…¨ç‰ˆæœ¬)</a></p>
<h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><h4 id="1-ä¿®æ”¹sources-listæº"><a href="#1-ä¿®æ”¹sources-listæº" class="headerlink" title="1. ä¿®æ”¹sources.listæº"></a>1. ä¿®æ”¹sources.listæº</h4><p>ubuntué»˜è®¤æºæ‰§è¡Œapt-updateï¼Œæ­¤æ—¶buildè¿‡ç¨‹éå¸¸æ…¢ï¼Œè€Œä¸”æ‰“åŒ…å‡ºæ¥çš„é•œåƒä½¿ç”¨æ—¶ä¹Ÿä¼šå­˜åœ¨æ…¢çš„æƒ…å†µã€‚</p>
<p>é¦–å…ˆä»<a href="https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener">æ¸…åæº</a>æˆ–<a href="https://www.cnblogs.com/bovenson/p/5752213.html" target="_blank" rel="noopener">Ubuntu 16.04 å‡ ä¸ªå›½å†…æ›´æ–°æº</a>å¤åˆ¶<code>list</code>åˆ—è¡¨ï¼Œä¿å­˜ä¸º<code>sources.list</code>å­˜æ”¾ä¸<code>dockerfile</code>åŒç›®å½•ä¸‹ã€‚</p>
<p>å› æ­¤åœ¨ <code>apt-get update</code> ä¹‹å‰åŠ å…¥</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ADD</span><span class="bash"> sources.list /etc/apt/</span></span><br></pre></td></tr></table></figure>

<h4 id="2-é•œåƒåŠ é€Ÿ"><a href="#2-é•œåƒåŠ é€Ÿ" class="headerlink" title="2. é•œåƒåŠ é€Ÿ"></a>2. é•œåƒåŠ é€Ÿ</h4><p>é…ç½®ç½‘æ˜“çš„åŠ é€Ÿå™¨: <code>http://hub-mirror.c.163.com</code></p>
<p>åœ¨ä»»åŠ¡æ ç‚¹å‡» Docker for mac åº”ç”¨å›¾æ ‡ -&gt; Perferencesâ€¦ -&gt; Daemon -&gt; Registry mirrorsã€‚åœ¨åˆ—è¡¨ä¸­å¡«å†™åŠ é€Ÿå™¨åœ°å€å³å¯ã€‚ä¿®æ”¹å®Œæˆä¹‹åï¼Œç‚¹å‡» Apply &amp; Restart æŒ‰é’®ï¼ŒDocker å°±ä¼šé‡å¯å¹¶åº”ç”¨é…ç½®çš„é•œåƒåœ°å€äº†ã€‚</p>
<p><img src= "/img/loading.gif" data-src="http://ww1.sinaimg.cn/large/929ea2a1gy1g4z74joxynj20pa0rsdma.jpg" alt=""></p>
<p>å¯ä»¥é€šè¿‡ <code>docker info</code> å‘½ä»¤æ¥æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸã€‚</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">bambooxking</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://bambooxking.github.io/2019/04/20/%E5%B0%8F%E9%BB%91%E7%A7%91%E6%8A%80/Docker%E6%95%99%E7%A8%8B/">https://bambooxking.github.io/2019/04/20/%E5%B0%8F%E9%BB%91%E7%A7%91%E6%8A%80/Docker%E6%95%99%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://bambooxking.github.io" target="_blank">ç‹ç«¹å…´ | Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">æŒç»­é›†æˆ</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/bambooxking/pic-bed/raw/master/img/20200726214617OpenSource.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechatpay.png" alt="wechat" onclick="window.open('/img/wechatpay.png')"/><div class="post-qr-code__desc">wechat</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpeg" alt="alipay" onclick="window.open('/img/alipay.jpeg')"/><div class="post-qr-code__desc">alipay</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/04/25/%E6%96%87%E6%A1%A3%E6%89%8B%E5%86%8C/%E5%85%B3%E4%BA%8EBETA-RC-ALPHA-GA%E7%AD%89%E7%89%88%E6%9C%AC%E5%8F%B7%E7%9A%84%E6%84%8F%E4%B9%89/"><img class="prev-cover" data-src="https://gitee.com/bambooxking/pic-bed/raw/master/img/20200726214542ç‰ˆæœ¬è§„èŒƒ.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">å…³äºBETA,RC,ALPHA,GAç­‰ç‰ˆæœ¬å·çš„æ„ä¹‰</div></div></a></div><div class="next-post pull-right"><a href="/2019/04/18/%E5%B0%8F%E9%BB%91%E7%A7%91%E6%8A%80/gitlab-ci%20%E6%90%AD%E5%BB%BA%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E7%8E%AF%E5%A2%83/"><img class="next-cover" data-src="https://gitee.com/bambooxking/pic-bed/raw/master/img/20200726215308GitLabCI.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">gitlab-ci æ­å»ºæŒç»­é›†æˆç¯å¢ƒ</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/04/18/å°é»‘ç§‘æŠ€/gitlab-ci æ­å»ºæŒç»­é›†æˆç¯å¢ƒ/" title="gitlab-ci æ­å»ºæŒç»­é›†æˆç¯å¢ƒ"><img class="relatedPosts_cover" data-src="https://gitee.com/bambooxking/pic-bed/raw/master/img/20200726215308GitLabCI.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2019-04-18</div><div class="relatedPosts_title">gitlab-ci æ­å»ºæŒç»­é›†æˆç¯å¢ƒ</div></div></a></div></div></div></article></main><footer id="footer" style="background-image: url(https://gitee.com/bambooxking/pic-bed/raw/master/img/20200726212621Docker.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By bambooxking</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">çŸ¥è¯†å°±åƒå†…è£¤ï¼Œçœ‹ä¸è§ï¼Œä½†å¾ˆé‡è¦ã€‚</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font_plus" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font_minus" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="è®¾ç½®"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script defer id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/third-party/ClickShowText.js"></script><script src="/js/search/algolia.js"></script><div class="app-refresh" id="app-refresh"> <div class="app-refresh-wrap"> <label>âœ¨ ç½‘ç«™å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬ ğŸ‘‰</label> <a href="javascript:void(0)" onclick="location.reload()">ç‚¹å‡»åˆ·æ–°</a> </div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬",backgroundColor:t,duration:5e5,pos:e,actionText:"ç‚¹å‡»åˆ·æ–°",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",function(){showNotification()}),window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js")}));</script></body></html>